<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fale Conosco - AgroTech</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top bg-white shadow-sm">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <span class="logo-text">Agro<span class="text-success">Tech</span></span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="solucoes.html">Soluções</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="sobre.html">Sobre Nós</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="casos.html">Casos de Sucesso</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="contato.html">Fale Conosco</a>
                    </li>
                </ul>
                <button class="btn btn-success ms-lg-3">Experimentar Agora</button>
            </div>
        </div>
    </nav>

    <!-- Header Section -->
    <header class="page-header bg-light mt-56">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h1 class="fw-bold">Fale Conosco</h1>
                    <p class="lead">Entre em contato para saber mais sobre nossas soluções ou agendar uma demonstração
                    </p>
                </div>
                <div class="col-lg-6">
                    <img src="https://i.pinimg.com/736x/86/e3/21/86e321a622914bd5b27fdb14fcd9f401.jpg" width="420" alt="Contato" class="img-fluid rounded">
                </div>
            </div>
        </div>
    </header>

    <!-- Contact Form Section -->
    <section class="py-5">
        <div class="container">
            <div class="row g-5">
                <div class="col-lg-6">
                    <h2 class="fw-bold mb-4">Entre em contato</h2>
                    <p class="mb-4">Preencha o formulário abaixo e entraremos em contato o mais breve possível. Estamos
                        ansiosos para conhecer sua propriedade e ajudar a otimizar sua produção.</p>

                    <form id="contactForm" class="needs-validation" novalidate>
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="name" class="form-label">Nome completo *</label>
                                <input type="text" class="form-control" id="name" required>
                                <div class="invalid-feedback" id="nameError">
                                    Por favor, informe seu nome completo (nome e sobrenome).
                                </div>
                                <div class="valid-feedback">
                                    Nome válido!
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label for="email" class="form-label">E-mail *</label>
                                <input type="email" class="form-control" id="email" required>
                                <div class="invalid-feedback" id="emailError">
                                    Por favor, informe um e-mail válido.
                                </div>
                                <div class="valid-feedback">
                                    E-mail válido!
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label for="phone" class="form-label">Telefone</label>
                                <input type="tel" class="form-control" id="phone" placeholder="(00) 00000-0000">
                                <div class="form-text">Campo opcional</div>
                            </div>
                            <div class="col-md-6">
                                <label for="city" class="form-label">Cidade/Estado</label>
                                <input type="text" class="form-control" id="city" placeholder="Ex: Belo Horizonte/MG">
                                <div class="form-text">Campo opcional</div>
                            </div>
                            <div class="col-12">
                                <label for="subject" class="form-label">Assunto</label>
                                <select class="form-select" id="subject">
                                    <option value="" selected>Selecione uma opção (opcional)</option>
                                    <option value="mapeamento">Mapeamento do Solo</option>
                                    <option value="logistica">Gestão da Cadeia Logística</option>
                                    <option value="automacao">Automação de Processos</option>
                                    <option value="demo">Agendar Demonstração</option>
                                    <option value="parceria">Proposta de Parceria</option>
                                    <option value="outros">Outros</option>
                                </select>
                            </div>
                            <div class="col-12">
                                <label for="message" class="form-label">Descrição da mensagem *</label>
                                <textarea class="form-control" id="message" rows="5" required 
                                    placeholder="Descreva sua mensagem aqui... (mínimo 30 caracteres, máximo 500 caracteres)"></textarea>
                                <div class="invalid-feedback" id="messageError">
                                    A mensagem deve ter entre 30 e 500 caracteres.
                                </div>
                                <div class="valid-feedback">
                                    Mensagem válida!
                                </div>
                                <div class="form-text">
                                    <span id="charCount">0</span>/500 caracteres
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="newsletter">
                                    <label class="form-check-label" for="newsletter">
                                        Desejo receber novidades e atualizações por e-mail
                                    </label>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="privacy" required>
                                    <label class="form-check-label" for="privacy">
                                        Concordo com a <a href="#" class="text-success">Política de Privacidade</a> *
                                    </label>
                                    <div class="invalid-feedback">
                                        Você deve concordar com nossa política de privacidade.
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 mt-4">
                                <button type="submit" class="btn btn-success btn-lg" id="submitBtn">
                                    <span class="spinner-border spinner-border-sm me-2 d-none" id="loadingSpinner"></span>
                                    Enviar mensagem
                                </button>
                            </div>
                        </div>
                    </form>

                    <!-- Success Message (hidden by default) -->
                    <div id="formSuccess" class="alert alert-success mt-4 d-none">
                        <i class="bi bi-check-circle-fill me-2"></i> Sua mensagem foi enviada com sucesso! Entraremos em
                        contato em breve.
                    </div>
                </div>

                <div class="col-lg-6">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="card-body p-4">
                            <h3 class="fw-bold mb-4">Informações de contato</h3>

                            <div class="d-flex mb-4">
                                <div class="contact-icon bg-success bg-opacity-10 me-3">
                                    <i class="bi bi-geo-alt text-success"></i>
                                </div>
                                <div>
                                    <h5 class="fw-bold">Endereço</h5>
                                    <p class="mb-0">Av. Amazonas, 5253 - Nova Suíça<br>Belo Horizonte, MG, 30421-169</p>
                                </div>
                            </div>

                            <div class="d-flex mb-4">
                                <div class="contact-icon bg-success bg-opacity-10 me-3">
                                    <i class="bi bi-telephone text-success"></i>
                                </div>
                                <div>
                                    <h5 class="fw-bold">Telefone</h5>
                                    <p class="mb-0">(31) 9999-9999</p>
                                </div>
                            </div>

                            <div class="d-flex mb-4">
                                <div class="contact-icon bg-success bg-opacity-10 me-3">
                                    <i class="bi bi-envelope text-success"></i>
                                </div>
                                <div>
                                    <h5 class="fw-bold">E-mail</h5>
                                    <p class="mb-0">contato@agrotech.com.br</p>
                                </div>
                            </div>

                            <div class="d-flex mb-4">
                                <div class="contact-icon bg-success bg-opacity-10 me-3">
                                    <i class="bi bi-clock text-success"></i>
                                </div>
                                <div>
                                    <h5 class="fw-bold">Horário de atendimento</h5>
                                    <p class="mb-0">Segunda a Sexta: 8h às 18h<br>Sábado: 9h às 13h</p>
                                </div>
                            </div>

                            <h4 class="fw-bold mt-5 mb-3">Nos siga nas redes sociais</h4>
                            <div class="d-flex social-icons">
                                <a href="#" class="me-3"><i class="bi bi-facebook fs-4"></i></a>
                                <a href="#" class="me-3"><i class="bi bi-instagram fs-4"></i></a>
                                <a href="#" class="me-3"><i class="bi bi-twitter fs-4"></i></a>
                                <a href="#" class="me-3"><i class="bi bi-linkedin fs-4"></i></a>
                                <a href="#"><i class="bi bi-youtube fs-4"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Map Section -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="fw-bold">Nossa Localização</h2>
                <p class="lead">Venha nos visitar e conhecer nossas soluções</p>
            </div>

            <div class="map-container rounded shadow">
                <iframe
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3750.741767274693!2d-43.96709358508996!3d-19.938017786592756!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xa6961a170dda91%3A0xe68c7d4a4d5d14e7!2sAv.%20Amazonas%2C%205253%20-%20Nova%20Su%C3%AD%C3%A7a%2C%20Belo%20Horizonte%20-%20MG%2C%2030421-169!5e0!3m2!1spt-BR!2sbr!4v1659532384197!5m2!1spt-BR!2sbr"
                    width="100%" height="450" style="border:0;" allowfullscreen="" loading="lazy"
                    referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="py-5">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="fw-bold">Perguntas Frequentes</h2>
                <p class="lead">Tire suas dúvidas antes de entrar em contato</p>
            </div>

            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="accordion" id="faqAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                    Quanto tempo leva para receber uma resposta após o contato?
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
                                data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Respondemos a todas as mensagens em até 24 horas úteis. Para assuntos urgentes,
                                    recomendamos entrar em contato por telefone.
                                </div>
                            </div>
                        </div>

                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingTwo">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                    Vocês atendem em todo o Brasil?
                                </button>
                            </h2>
                            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                                data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Sim, atendemos produtores rurais em todo o território nacional. Temos equipes
                                    técnicas em diversas regiões do país e também oferecemos suporte remoto para
                                    localidades mais distantes.
                                </div>
                            </div>
                        </div>

                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingThree">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                    Como funciona a demonstração das soluções?
                                </button>
                            </h2>
                            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
                                data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Podemos realizar demonstrações remotas via videoconferência ou presenciais em sua
                                    propriedade. Durante a demonstração, apresentamos as soluções mais adequadas para o
                                    seu caso e mostramos como nossa tecnologia pode otimizar sua produção.
                                </div>
                            </div>
                        </div>

                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingFour">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                    Posso solicitar uma proposta personalizada?
                                </button>
                            </h2>
                            <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour"
                                data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Sim, elaboramos propostas personalizadas de acordo com as necessidades específicas
                                    de cada produtor. Basta preencher o formulário de contato ou nos ligar para agendar
                                    uma conversa com nossa equipe comercial.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="py-5 bg-success text-white">
        <div class="container text-center">
            <h2 class="fw-bold mb-4">Pronto para transformar sua produção agrícola?</h2>
            <p class="lead mb-4">Estamos ansiosos para ajudar você a otimizar sua produção e reduzir desperdícios.</p>
            <a href="tel:3199999999" class="btn btn-light btn-lg px-4"><i class="bi bi-telephone me-2"></i> (31)
                9999-9999</a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-5 bg-dark text-white">
        <div class="container">
            <div class="row g-4">
                <div class="col-lg-4">
                    <h5 class="fw-bold mb-3">AgroTech</h5>
                    <p>Soluções tecnológicas para a otimização da produção agrícola, garantindo maior produtividade,
                        redução de desperdícios e melhoria na cadeia logística.</p>
                    <div class="d-flex gap-3 mt-4">
                        <a href="#" class="text-white"><i class="bi bi-facebook fs-5"></i></a>
                        <a href="#" class="text-white"><i class="bi bi-instagram fs-5"></i></a>
                        <a href="#" class="text-white"><i class="bi bi-twitter fs-5"></i></a>
                        <a href="#" class="text-white"><i class="bi bi-linkedin fs-5"></i></a>
                    </div>
                </div>
                <div class="col-lg-2">
                    <h5 class="fw-bold mb-3">Links</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="index.html" class="text-white text-decoration-none">Home</a></li>
                        <li class="mb-2"><a href="solucoes.html" class="text-white text-decoration-none">Soluções</a>
                        </li>
                        <li class="mb-2"><a href="sobre.html" class="text-white text-decoration-none">Sobre Nós</a></li>
                        <li class="mb-2"><a href="casos.html" class="text-white text-decoration-none">Casos de
                                Sucesso</a></li>
                        <li class="mb-2"><a href="contato.html" class="text-white text-decoration-none">Fale Conosco</a>
                        </li>
                    </ul>
                </div>
                <div class="col-lg-3">
                    <h5 class="fw-bold mb-3">Contato</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i class="bi bi-geo-alt me-2"></i> Belo Horizonte, MG, Brasil</li>
                        <li class="mb-2"><i class="bi bi-telephone me-2"></i> (31) 9999-9999</li>
                        <li class="mb-2"><i class="bi bi-envelope me-2"></i> contato@agrotech.com.br</li>
                    </ul>
                </div>
                <div class="col-lg-3">
                    <h5 class="fw-bold mb-3">Newsletter</h5>
                    <p>Receba novidades e atualizações sobre nossos produtos</p>
                    <div class="input-group">
                        <input type="email" class="form-control" placeholder="Seu e-mail">
                        <button class="btn btn-success" type="button">Inscrever</button>
                    </div>
                </div>
            </div>
            <hr class="my-4">
            <div class="text-center">
                <p class="mb-0">&copy; 2023 AgroTech. Todos os direitos reservados.</p>
                <p class="small mt-2">Projeto Acadêmico - PBL Engenharia de Software - The Future Is Now</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/main.js"></script>
    <script>
        // Enhanced form validation script - alerts only after submit attempt
        document.addEventListener('DOMContentLoaded', function () {
            const form = document.getElementById('contactForm');
            const successMessage = document.getElementById('formSuccess');
            const submitBtn = document.getElementById('submitBtn');
            const loadingSpinner = document.getElementById('loadingSpinner');

            // Form elements
            const nameInput = document.getElementById('name');
            const emailInput = document.getElementById('email');
            const phoneInput = document.getElementById('phone');
            const messageInput = document.getElementById('message');
            const charCount = document.getElementById('charCount');

            // Flag to track if form has been submitted at least once
            let hasAttemptedSubmit = false;

            // Real-time validation functions
            function validateName() {
                const name = nameInput.value.trim();
                const nameError = document.getElementById('nameError');
                
                if (name === '') {
                    nameInput.setCustomValidity('Nome não pode estar em branco.');
                    nameError.textContent = 'Nome não pode estar em branco.';
                    return false;
                }
                
                // Check if has at least 2 words (name and surname)
                const nameParts = name.split(' ').filter(part => part.length > 0);
                if (nameParts.length < 2) {
                    nameInput.setCustomValidity('Informe nome e sobrenome.');
                    nameError.textContent = 'Informe nome e sobrenome.';
                    return false;
                }
                
                // Check if each part has at least 2 characters
                const hasValidParts = nameParts.every(part => part.length >= 2);
                if (!hasValidParts) {
                    nameInput.setCustomValidity('Nome e sobrenome devem ter pelo menos 2 caracteres cada.');
                    nameError.textContent = 'Nome e sobrenome devem ter pelo menos 2 caracteres cada.';
                    return false;
                }
                
                nameInput.setCustomValidity('');
                return true;
            }

            function validateEmail() {
                const email = emailInput.value.trim();
                const emailError = document.getElementById('emailError');
                
                if (email === '') {
                    emailInput.setCustomValidity('E-mail não pode estar em branco.');
                    emailError.textContent = 'E-mail não pode estar em branco.';
                    return false;
                }
                
                // Enhanced email validation
                const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
                if (!emailRegex.test(email)) {
                    emailInput.setCustomValidity('Formato de e-mail inválido.');
                    emailError.textContent = 'Formato de e-mail inválido. Ex: usuario@exemplo.com';
                    return false;
                }
                
                emailInput.setCustomValidity('');
                return true;
            }

            function validateMessage() {
                const message = messageInput.value.trim();
                const messageError = document.getElementById('messageError');
                
                if (message === '') {
                    messageInput.setCustomValidity('Mensagem não pode estar em branco.');
                    messageError.textContent = 'Mensagem não pode estar em branco.';
                    return false;
                }
                
                if (message.length < 30) {
                    messageInput.setCustomValidity('Mensagem deve ter pelo menos 30 caracteres.');
                    messageError.textContent = `Mensagem deve ter pelo menos 30 caracteres. Faltam ${30 - message.length} caracteres.`;
                    return false;
                }
                
                if (message.length > 500) {
                    messageInput.setCustomValidity('Mensagem deve ter no máximo 500 caracteres.');
                    messageError.textContent = `Mensagem excede o limite. Remova ${message.length - 500} caracteres.`;
                    return false;
                }
                
                messageInput.setCustomValidity('');
                return true;
            }

            // Update field validation visual feedback (only if form has been submitted)
            function updateFieldValidation(field) {
                if (!hasAttemptedSubmit) return; // Don't show validation until first submit attempt
                
                if (field.checkValidity()) {
                    field.classList.remove('is-invalid');
                    field.classList.add('is-valid');
                } else {
                    field.classList.remove('is-valid');
                    field.classList.add('is-invalid');
                }
            }

            // Real-time validation events (only run validation, don't show visual feedback until submit)
            nameInput.addEventListener('input', function() {
                validateName();
                updateFieldValidation(nameInput);
            });

            nameInput.addEventListener('blur', function() {
                validateName();
                updateFieldValidation(nameInput);
            });

            emailInput.addEventListener('input', function() {
                validateEmail();
                updateFieldValidation(emailInput);
            });

            emailInput.addEventListener('blur', function() {
                validateEmail();
                updateFieldValidation(emailInput);
            });

            messageInput.addEventListener('input', function() {
                const length = messageInput.value.length;
                charCount.textContent = length;
                
                // Update character count color based on limits (always show this)
                if (length < 30) {
                    charCount.style.color = '#dc3545'; // Red
                } else if (length > 450) {
                    charCount.style.color = '#fd7e14'; // Orange
                } else if (length > 500) {
                    charCount.style.color = '#dc3545'; // Red
                } else {
                    charCount.style.color = '#198754'; // Green
                }
                
                validateMessage();
                updateFieldValidation(messageInput);
            });

            messageInput.addEventListener('blur', function() {
                validateMessage();
                updateFieldValidation(messageInput);
            });

            // Phone mask with improved usability
            phoneInput.addEventListener('input', function (e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length > 0) {
                    if (value.length <= 2) {
                        value = `(${value}`;
                    } else if (value.length <= 6) {
                        value = `(${value.substring(0, 2)}) ${value.substring(2)}`;
                    } else if (value.length <= 10) {
                        value = `(${value.substring(0, 2)}) ${value.substring(2, 6)}-${value.substring(6)}`;
                    } else {
                        value = `(${value.substring(0, 2)}) ${value.substring(2, 7)}-${value.substring(7, 11)}`;
                    }
                }
                e.target.value = value;
            });

            // Form submission with enhanced UX
            form.addEventListener('submit', function (event) {
                event.preventDefault();
                event.stopPropagation();

                // Mark that submit has been attempted
                hasAttemptedSubmit = true;

                // Validate all required fields
                const isNameValid = validateName();
                const isEmailValid = validateEmail();
                const isMessageValid = validateMessage();
                const isPrivacyChecked = document.getElementById('privacy').checked;

                // Now show visual feedback for all fields
                updateFieldValidation(nameInput);
                updateFieldValidation(emailInput);
                updateFieldValidation(messageInput);

                if (isNameValid && isEmailValid && isMessageValid && isPrivacyChecked) {
                    // Show loading state
                    submitBtn.disabled = true;
                    loadingSpinner.classList.remove('d-none');
                    submitBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span>Enviando...';

                    // Simulate form submission with realistic delay
                    setTimeout(function () {
                        // Reset form and show success
                        form.classList.remove('was-validated');
                        form.reset();
                        charCount.textContent = '0';
                        charCount.style.color = '#6c757d';
                        
                        // Remove validation classes and reset submit flag
                        const validatedFields = form.querySelectorAll('.is-valid, .is-invalid');
                        validatedFields.forEach(field => {
                            field.classList.remove('is-valid', 'is-invalid');
                        });
                        hasAttemptedSubmit = false; // Reset for next use

                        // Show success message
                        successMessage.classList.remove('d-none');
                        successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });

                        // Reset button state
                        submitBtn.disabled = false;
                        loadingSpinner.classList.add('d-none');
                        submitBtn.innerHTML = 'Enviar mensagem';

                        // Hide success message after 8 seconds
                        setTimeout(function () {
                            successMessage.classList.add('d-none');
                        }, 8000);
                    }, 2000);
                } else {
                    // Focus on first invalid field for better UX
                    const firstInvalidField = form.querySelector('.is-invalid');
                    if (firstInvalidField) {
                        firstInvalidField.focus();
                        firstInvalidField.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                }

                form.classList.add('was-validated');
            });

            // Initialize character count
            charCount.textContent = messageInput.value.length;

            // Accessibility improvements
            nameInput.setAttribute('aria-describedby', 'nameError');
            emailInput.setAttribute('aria-describedby', 'emailError');
            messageInput.setAttribute('aria-describedby', 'messageError charCount');

            // Auto-save form data to localStorage for better UX
            const formFields = [nameInput, emailInput, phoneInput, messageInput];
            
            formFields.forEach(field => {
                // Load saved data
                const savedValue = localStorage.getItem(`contact_${field.id}`);
                if (savedValue && field.value === '') {
                    field.value = savedValue;
                    if (field.id === 'message') {
                        charCount.textContent = savedValue.length;
                        // Update character count color
                        const length = savedValue.length;
                        if (length < 30) {
                            charCount.style.color = '#dc3545';
                        } else if (length > 450) {
                            charCount.style.color = '#fd7e14';
                        } else if (length > 500) {
                            charCount.style.color = '#dc3545';
                        } else {
                            charCount.style.color = '#198754';
                        }
                    }
                }

                // Save data on input
                field.addEventListener('input', function() {
                    localStorage.setItem(`contact_${field.id}`, field.value);
                });
            });

            // Clear saved data when form is successfully submitted
            form.addEventListener('submit', function() {
                if (form.checkValidity()) {
                    formFields.forEach(field => {
                        localStorage.removeItem(`contact_${field.id}`);
                    });
                }
            });
        });
    </script>
</body>

</html>
